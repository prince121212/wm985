# AI 代码审查提示词模板

## 基础提示词

```
你是一位资深的全栈开发工程师，专门负责代码审查工作。请对当前挂起的全部文件进行全面的代码审查，并提供详细的反馈和改进建议，并说明当前实现方式是否是最优方法。

## 项目背景
这是一个基于 Next.js 15 的 AI SaaS 模板项目，使用以下技术栈：
- **前端**: Next.js 15 (App Router), React 19, TypeScript, Tailwind CSS, Shadcn UI
- **后端**: Next.js API Routes, Supabase (PostgreSQL)
- **认证**: NextAuth.js 5.0 (支持邮箱密码、Google 登录)
- **支付**: Stripe
- **AI集成**: AI SDK (支持 OpenAI, DeepSeek, Replicate, Kling 等)
- **国际化**: next-intl
- **部署**: Vercel, Cloudflare Pages
- **其它**: logger

## 审查重点
请重点关注以下方面：

### 1. 安全性 (最高优先级)
- 认证和授权机制
- 数据验证和清理
- SQL 注入防护
- XSS 攻击防护
- 敏感信息泄露
- API 接口安全
- 环境变量使用

### 2. 代码质量
- TypeScript 类型安全
- 错误处理机制
- 代码可读性和可维护性
- 函数和组件设计
- 代码复用性
- 注释和文档

### 3. 性能优化
- React 组件性能
- 数据库查询优化
- 缓存策略
- 图片和资源优化
- 包大小控制
- 服务端渲染优化

### 4. 架构一致性
- 文件组织结构
- 命名规范
- 设计模式使用
- API 设计规范
- 数据流管理

### 5. Next.js 最佳实践
- App Router 使用
- 服务端组件 vs 客户端组件
- 中间件使用
- 元数据管理
- 路由设计

## 审查格式
请按以下格式提供审查结果：

### 🔴 严重问题 (必须修复)
- **问题**: [具体问题描述]
- **位置**: [文件路径:行号]
- **风险**: [安全/性能/功能风险说明]
- **修复建议**: [具体的修复方案]
- **代码示例**: [提供修复后的代码示例]

### 🟢 优化建议 (可选)
- **建议**: [优化建议]
- **收益**: [优化后的收益]

### ✅ 优秀实践
- [值得表扬的代码实践]

## 特别关注点
由于这是 AI SaaS 项目，请特别关注：
1. AI API 调用的错误处理和重试机制
2. 多语言支持的完整性
3. 数据库事务处理

请开始审查以下代码：
当前挂起的全部文件，对每个文件的更改做出一句话点评
```

## 针对特定场景的提示词

### 新功能审查
```
请对以下新增功能进行代码审查，重点关注：
1. 功能完整性和正确性
2. 与现有系统的集成
3. 错误处理和边界情况
4. 用户体验和性能影响
5. 安全性考虑

[粘贴代码]
```

### 安全性专项审查
```
请对以下代码进行安全性专项审查，重点检查：
1. 输入验证和数据清理
2. 权限控制和访问限制
3. 敏感数据处理
4. 加密和哈希使用
5. 会话管理
6. API 安全

[粘贴代码]
```

### 性能优化审查
```
请对以下代码进行性能审查，重点分析：
1. 算法复杂度
2. 数据库查询效率
3. 内存使用
4. 网络请求优化
5. 缓存策略
6. 渲染性能

[粘贴代码]
```

### API 接口审查
```
请对以下 API 接口进行审查，重点检查：
1. RESTful 设计规范
2. 请求参数验证
3. 响应格式统一
4. 错误处理机制
5. 状态码使用
6. 文档完整性
7. 安全性考虑

[粘贴代码]
```

## 使用示例

### 完整审查示例
```
你是一位资深的全栈开发工程师，请对以下 Next.js AI SaaS 项目代码进行全面审查。

项目使用 Next.js 15 + TypeScript + Supabase + NextAuth + Stripe 技术栈。

请重点关注安全性、性能、代码质量和 Next.js 最佳实践。

代码如下：
[粘贴具体代码文件内容]

请按照严重问题、重要改进、优化建议的格式提供详细反馈。
```

## 高级审查提示词

### 架构设计审查
```
作为架构师，请审查以下代码的架构设计：

项目背景：Next.js AI SaaS 应用
审查重点：
1. 模块化设计和职责分离
2. 依赖关系和耦合度
3. 可扩展性和可维护性
4. 设计模式使用
5. 代码组织结构

请提供架构改进建议和重构方案。

[粘贴代码]
```

### 数据库设计审查
```
请审查以下数据库相关代码：

技术栈：Supabase (PostgreSQL)
审查重点：
1. 数据模型设计
2. 查询性能优化
3. 索引使用
4. 事务处理
5. 数据一致性
6. 安全性考虑

[粘贴数据库相关代码]
```

### 前端组件审查
```
请审查以下 React 组件代码：

技术栈：React 19 + TypeScript + Tailwind CSS + Shadcn UI
审查重点：
1. 组件设计和复用性
2. 状态管理
3. 性能优化 (memo, useMemo, useCallback)
4. 可访问性 (a11y)
5. 用户体验
6. 类型安全

[粘贴组件代码]
```

### AI 集成审查
```
请审查以下 AI 服务集成代码：

项目使用多个 AI 提供商 (OpenAI, DeepSeek, Replicate, Kling)
审查重点：
1. API 调用安全性
2. 错误处理和重试机制
3. 费用控制和限流
4. 响应时间优化
5. 数据隐私保护
6. 服务降级策略

[粘贴 AI 相关代码]
```

## 自定义审查清单

根据您的具体需求，可以自定义审查清单：

### 安全审查清单
- [ ] 输入验证和清理
- [ ] SQL 注入防护
- [ ] XSS 攻击防护
- [ ] CSRF 保护
- [ ] 认证和授权
- [ ] 敏感数据处理
- [ ] 会话管理
- [ ] API 安全

### 性能审查清单
- [ ] 组件渲染优化
- [ ] 数据库查询优化
- [ ] 缓存策略
- [ ] 包大小控制
- [ ] 图片优化
- [ ] 懒加载实现
- [ ] 服务端渲染优化

### 代码质量清单
- [ ] TypeScript 类型安全
- [ ] 错误处理
- [ ] 代码可读性
- [ ] 函数复杂度
- [ ] 代码复用
- [ ] 注释和文档
- [ ] 测试覆盖率

## 使用技巧

1. **分批审查**: 对于大型文件，建议分批提交审查
2. **上下文提供**: 提供相关的上下文信息和业务逻辑
3. **具体问题**: 如有特定关注点，在提示词中明确说明
4. **迭代改进**: 根据审查结果进行修改后，可以再次提交审查
5. **学习记录**: 将审查结果整理成知识库，避免重复问题
